{% extends "./common/base.html" %}

{% block title %}
Website Category Classifier
{% endblock %}

{% block content %}

{% if data['isPredictedData'] is not defined %}


<div class="w-[90%] md:w-[70%] -mt-20">
  <h1 class="text-4xl md:text-5xl text-indigo-500 font-extrabold text-center">
    Website Category Classifier
  </h1>
  <p class="md:text-xl text-gray-500 text-center mt-4">
    Predict the given website by using ML
  </p>
  <form class="flex rounded-sm overflow-hidden mt-16 shadow-2xl" action="/predict" method="post">
    <input type="url" placeholder="Enter website URL (e.g: www.google.com)"
      class="p-4 w-full outline-none bg-white shadow-lg border border-indigo-500" name="website_url" required />
    <button type="submit" class="bg-indigo-600 hover:bg-indigo-500 px-8 text-center text-white outline-none">
      Predict
    </button>
  </form>
</div>

{% else %}

<div class="mt-20 relative">
  <h2 class="text-center">
    <span class="text-4xl md:text-5xl text-indigo-500 font-extrabold text-center">
      {{ data['predictedCategory'] }}
    </span>
  </h2>
  <p class="text-2xl mt-2 text-center text-gray-500 mb-12">
    is your website category.
  </p>
</div>
<div class="absolute left-1/2 -translate-x-1/2 top-[0%]">
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <lottie-player src="https://assets9.lottiefiles.com/packages/lf20_8edlac32.json" background="transparent" speed="1"
    style="width: 100%; height: 100%;" id="player">
  </lottie-player>
</div>

<script>
  document.querySelector("#player").play();
</script>

{% endif %}

<div class="grid grid-cols-3 w-full md:w-[70%] bg-white p-4">
  <div class="p-4 border-r border-r-pink-200">
    <p class="text-center text-2xl sm:text-4xl font-bold text-pink-500 mb-2">
      {{ data.totalData }}
    </p>
    <p class="text-center capitalize text-sm sm:text-lg text-gray-500">
      total websites
    </p>
  </div>
  <div class="p-4 border-r border-r-pink-200">
    <p class="text-center text-2xl sm:text-4xl font-bold text-pink-500 mb-2">
      {{ data.totalTrainingData }}
    </p>
    <p class="text-center capitalize text-sm sm:text-lg text-gray-500">
      Training Data
    </p>
  </div>
  <div class="p-4">
    <p class="text-center text-2xl sm:text-4xl font-bold text-pink-500 mb-2">
      {{ data.totalTestingData }}
    </p>
    <p class="text-center capitalize text-sm sm:text-lg text-gray-500">
      Testing Data
    </p>
  </div>
</div>

<script>
  let d = '{{ data| tojson }}'
  console.log(d)
</script>

{% endblock %}